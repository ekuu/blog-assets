```mermaid
graph LR
mstart-->mstart1
mstart1-->save参数sp,pc保存g0信息
mstart1-->schedule
schedule-->globrunqget
schedule-->runqget
schedule-->findrunnable
schedule-->execute
execute-->gp和m相互绑定
execute-->_Grunnable改为_Grunning
execute-->gogo
gogo-->将gp.sched恢复到cpu
gogo-->跳转到gp.sched.pc运行
跳转到gp.sched.pc运行-->|main|runtime.main
跳转到gp.sched.pc运行-->|非main|用户g
用户g-->|goexit->goexit1|mcall#goexit0#
mcall#goexit0#-->保存用户g上下文到sched
mcall#goexit0#-->切换到g0及其栈
mcall#goexit0#-->goexit0#用户g#
goexit0#用户g#-->gp状态从_Grunning到_Gdead
goexit0#用户g#-->gp的一些属性设置为0值
goexit0#用户g#-->dropg解绑m和用户g
goexit0#用户g#-->gfput将用户g放入队列中
goexit0#用户g#-->schedule
runtime.main-->sysmon
runtime.main-->调用runtime初始化函数
runtime.main-->开启gc
runtime.main-->调用main初始化函数
runtime.main-->调用main_main
runtime.main-->exit
```

